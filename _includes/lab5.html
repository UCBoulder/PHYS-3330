<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="generator" content="pandoc">
      <meta name="author" content="Department of Physics | University of
Colorado Boulder">
      
      <title>PHYS 3330</title>
         </head>
   <body>
            <div>
         <style>
            .eqnos { display: inline-block; position: relative; width: 100%; }
            .eqnos br { display: none; }
            .eqnos-number { position: absolute; right: 0em; top: 50%; line-height: 0; }
         </style>
         <h1 class="title">Lab 5 - Operational Amplifiers (OP-Amps)
II</h1>
                  <h1 class="title">Contents</h1>
        <nav id="TOC">
            <ul>
            <li><a href="#goals"><span
            class="toc-section-number">1</span> Goals</a></li>
            <li><a href="#op-amp-review"><span
            class="toc-section-number">2</span> Op-amp Review</a>
            <ul>
            <li><a href="#golden-rules"><span
            class="toc-section-number">2.1</span> Golden Rules</a></li>
            <li><a href="#definitions"><span
            class="toc-section-number">2.2</span> Definitions</a></li>
            </ul></li>
            <li><a href="#prelab"><span
            class="toc-section-number">3</span> Prelab</a>
            <ul>
            <li><a href="#inverting-amplifier"><span
            class="toc-section-number">3.1</span> Inverting
            Amplifier</a>
            <ul>
            <li><a href="#sec:1.1"><span
            class="toc-section-number">3.1.1</span> Prelab
            Question</a></li>
            </ul></li>
            <li><a
            href="#deriving-the-closed-loop-gain-of-the-inverting-amplifier"><span
            class="toc-section-number">3.2</span> Deriving the
            Closed-Loop Gain of the Inverting Amplifier</a>
            <ul>
            <li><a href="#sec:2.1"><span
            class="toc-section-number">3.2.1</span> Prelab
            Question</a></li>
            <li><a href="#sec:2.2"><span
            class="toc-section-number">3.2.2</span> Prelab
            Question</a></li>
            <li><a href="#sec:2.3"><span
            class="toc-section-number">3.2.3</span> Prelab
            Question</a></li>
            </ul></li>
            <li><a
            href="#the-input-and-output-impedance-of-the-inverting-amplifier"><span
            class="toc-section-number">3.3</span> The Input and Output
            Impedance of the Inverting Amplifier</a>
            <ul>
            <li><a href="#sec:3.1"><span
            class="toc-section-number">3.3.1</span> Prelab
            Question</a></li>
            <li><a href="#sec:3.2"><span
            class="toc-section-number">3.3.2</span> Prelab
            Question</a></li>
            <li><a href="#sec:3.3"><span
            class="toc-section-number">3.3.3</span> Prelab
            Question</a></li>
            <li><a href="#sec:3.4"><span
            class="toc-section-number">3.3.4</span> Prelab
            Question</a></li>
            </ul></li>
            <li><a
            href="#frequency-dependance-of-the-inverting-amplifier"><span
            class="toc-section-number">3.4</span> Frequency Dependance
            of the Inverting Amplifier</a>
            <ul>
            <li><a href="#sec:4.1"><span
            class="toc-section-number">3.4.1</span> Prelab
            Question</a></li>
            </ul></li>
            <li><a href="#summing-amplifier"><span
            class="toc-section-number">3.5</span> Summing Amplifier</a>
            <ul>
            <li><a href="#sec:5.1"><span
            class="toc-section-number">3.5.1</span> Prelab
            Question</a></li>
            <li><a href="#sec:5.2"><span
            class="toc-section-number">3.5.2</span> Prelab
            Question</a></li>
            </ul></li>
            <li><a href="#integrator"><span
            class="toc-section-number">3.6</span> Integrator</a>
            <ul>
            <li><a href="#sec:6.1"><span
            class="toc-section-number">3.6.1</span> Prelab
            Question</a></li>
            </ul></li>
            <li><a
            href="#complex-analysis-of-the-integrators-gain"><span
            class="toc-section-number">3.7</span> Complex Analysis of
            the Integrator’s Gain</a>
            <ul>
            <li><a href="#sec:7.1"><span
            class="toc-section-number">3.7.1</span> Prelab
            Question</a></li>
            </ul></li>
            <li><a
            href="#considerations-for-r-and-c-selections-for-the-integrator"><span
            class="toc-section-number">3.8</span> Considerations for
            <span class="math inline">\(R\)</span> and <span
            class="math inline">\(C\)</span> selections for the
            integrator</a>
            <ul>
            <li><a href="#sec:8.1"><span
            class="toc-section-number">3.8.1</span> Prelab
            Question</a></li>
            </ul></li>
            <li><a href="#lab-activities"><span
            class="toc-section-number">3.9</span> Lab activities</a>
            <ul>
            <li><a href="#sec:9.1"><span
            class="toc-section-number">3.9.1</span> Prelab
            Question</a></li>
            </ul></li>
            </ul></li>
            <li><a href="#useful-readings"><span
            class="toc-section-number">4</span> Useful Readings</a></li>
            <li><a href="#ic-tips"><span
            class="toc-section-number">5</span> IC Tips</a></li>
            <li><a href="#lab-activities-1"><span
            class="toc-section-number">6</span> Lab activities</a>
            <ul>
            <li><a href="#inverting-amplifier-1"><span
            class="toc-section-number">6.1</span> Inverting
            amplifier</a></li>
            <li><a
            href="#summing-amplifier-application---digital-to-analog-conversion"><span
            class="toc-section-number">6.2</span> Summing Amplifier
            Application - Digital-to-Analog Conversion</a></li>
            <li><a href="#integrator-application"><span
            class="toc-section-number">6.3</span> Integrator
            Application</a></li>
            <li><a href="#the-differentiator-amplifier"><span
            class="toc-section-number">6.4</span> The Differentiator
            Amplifier</a></li>
            </ul></li>
            </ul>
        </nav>
        <hr/>
         <h1 data-number="1" id="goals"><span
         class="header-section-number">1</span> Goals</h1>
         <p>In the last lab you used op-amps for the first time and
         applied negative feedback to the op-amp in order to make useful
         and stable circuits. You built:</p>
         <ul>
         <li>a <em>voltage buffer</em> in order to apply a voltage with
         a very low output impedance</li>
         <li>a <em>non-inverting amplifier</em> to boost a small
         signal</li>
         </ul>
         <p>Now, you will build more op-amp circuits with negative
         feedback.</p>
         <p>In this lab, you will build:</p>
         <ul>
         <li><p>an inverting amplifier and explore one of its major
         limitations (its input impedance)</p></li>
         <li><p>a summing amplifier designed to act as a
         digital-to-analog converter (DAC)</p></li>
         <li><p>a signal integrator to integrate a signal over
         time</p></li>
         </ul>
         <p>These three circuits have many applications. The inverting
         amplifier is like the non-inverting amplifier but with one
         advantage and one disadvantage. You will use the summing
         amplifier to build a DAC, but there are many applications of
         summing amplifiers in mixing signals. Finally the integrator
         has many uses and is commonly used to convert different
         wave-shapes in audio applications, and it is also used in
         control systems.</p>
         <p>In this lab you will:</p>
         <ul>
         <li><p>refine your ability to design and analyze op-amp
         circuits with negative feedback</p></li>
         <li><p>develop more independence in designing, modeling,
         building, and characterizing circuits</p></li>
         </ul>
         <h1 data-number="2" id="op-amp-review"><span
         class="header-section-number">2</span> Op-amp Review</h1>
         <p>This section summarizes information covered in lab 4 (you
         may find this useful for a quick reference in the future).</p>
         <p>The op-amp is a differential amplifier that outputs an
         amplified difference between the inputs:</p>
         <p><span
         class="math display">\[V_\text{out}=A(V_+-V_-)\]</span></p>
         <p>Feeding the output back into the inverting input drives the
         system into a very stable state which no longer depends on many
         of the details or imperfections of the internal workings.
         <em>Closed-loop</em> refers to the state of an op-amp with
         feedback, and <em>open-loop</em> refers to the state of an
         op-amp with no feedback.</p>
         <h2 data-number="2.1" id="golden-rules"><span
         class="header-section-number">2.1</span> Golden Rules</h2>
         <p>The golden rules are approximations that make op-amp
         analysis relatively simple and straight forward.</p>
         <ol type="1">
         <li>The open-loop gain is infinitely large: <span
         class="math display">\[A\rightarrow\infty\]</span></li>
         <li>The input impedance is infinitely large, so no current
         flows in or out of the inputs: <span
         class="math display">\[I_+=I_-=0\]</span></li>
         <li>When negative feedback is applied, the output drives the
         inverting input to be the same voltage as the non-inverting
         input: <span class="math display">\[V_+=V_-\]</span></li>
         </ol>
         <h2 data-number="2.2" id="definitions"><span
         class="header-section-number">2.2</span> Definitions</h2>
         <p>Here are all the terms we defined in the prelab from lab
         4:</p>
         <p><strong>Open-loop gain, <span
         class="math inline">\(A\)</span></strong> - the gain of the
         op-amp when there is no feedback.</p>
         <p><strong>Open-loop DC gain, <span
         class="math inline">\(A_\text{VOL}\)</span></strong> - the
         open-loop gain at low frequencies before the frequency
         dependence starts to take over and the open-loop gain starts to
         decrease. This is cited in any op-amp datasheet (sometimes as
         <span class="math inline">\(A_\text{OL}\)</span> or <span
         class="math inline">\(A_\text{VO}\)</span>).</p>
         <p><strong>Open-loop 3 dB point, <span
         class="math inline">\(f_0\)</span></strong> - the frequency
         that the open-loop gain falls -3 dB from <span
         class="math inline">\(A_\text{VOL}\)</span>. Beyond this
         frequency, <span class="math inline">\(A\)</span> typically
         continues to fall with a constant dB per log-scale (quoted in
         dB/octave (log2) or dB/decade (log10)). This value is usually
         <strong><em>not</em></strong> quoted in datasheets. It can be
         calculated from other values, and people often aren’t concerned
         with the value of <span class="math inline">\(f_0\)</span>.</p>
         <p><strong>Closed-loop gain, <span
         class="math inline">\(G\)</span></strong> - when a fraction of
         the output is fed back into the inverting input <span
         class="math inline">\(V_-\)</span>, the op-amp’s gain is
         greatly reduced from <span class="math inline">\(A\)</span> to
         some value <span class="math inline">\(G\)</span>. Just like
         the open-loop gain, this value is frequency dependent and
         starts to fall from <span class="math inline">\(G_0\)</span>
         near the 3 dB point, <span
         class="math inline">\(f_B\)</span>.</p>
         <p><strong>Closed-loop DC gain, <span
         class="math inline">\(G_0\)</span></strong> - the closed-loop
         gain at frequencies well below the 3 dB point. Except in active
         filter design, the point of an op-amp is to operate at a
         frequency such that <span
         class="math inline">\(G(f)=G_0\)</span>, so almost always, the
         closed-loop DC gain is referred to simply as
         <strong><em>THE</em> gain</strong>.</p>
         <p><strong>3 dB point, <span
         class="math inline">\(f_B\)</span></strong> - the frequency
         where <span class="math inline">\(G\)</span> drops -3 dB from
         <span class="math inline">\(G_0\)</span>. This is also often
         referred to as the bandwidth or operating bandwidth, as typical
         operation should be done below this frequency.</p>
         <p><strong>Gain bandwidth product, <span
         class="math inline">\(\text{GBW}\)</span></strong> - the
         product of the DC gain and the 3 dB point is a constant value.
         This should be cited in datasheets as it’s a foundational
         property of each op-amp’s internal design. Just like resistor
         values, however, the precise <span
         class="math inline">\(\text{GBW}\)</span> varies from op-amp to
         op-amp of the same name.</p>
         <p><strong>Unity gain frequency, <span
         class="math inline">\(f_T\)</span></strong> - the 3 dB point
         when the gain is 1 (unity). Since this is mathematically
         equivalent to the <span
         class="math inline">\(\text{GBW}\)</span>, these terms are
         often used interchangeably.</p>
         <p><strong>Capacitive coupling</strong> - capacitive coupling
         is the process of sending a signal or energy through a
         capacitor (remember that the impedance of a capacitor is
         inversely proportional to the frequency). Capacitive coupling
         is a way of sending AC while blocking DC. Parasitic capacitance
         often leads to this happening by mistake.</p>
         <p><strong>Decoupling capacitor</strong> - decoupling is
         coupling to ground. Decoupling capacitors charge up and provide
         a reservoir of energy that can be supplied to the circuit as
         the circuit’s current draw changes over time. Power supplies
         and transmission lines have inherent inductance which impedes
         changes in current, <span class="math inline">\(dI/dt\)</span>,
         so the decoupling capacitors compensate with the energy stored
         and provide the current necessary to maintain constant
         voltage.</p>
         <h1 data-number="3" id="prelab"><span
         class="header-section-number">3</span> Prelab</h1>
         <h2 data-number="3.1" id="inverting-amplifier"><span
         class="header-section-number">3.1</span> Inverting
         Amplifier</h2>
         <div id="fig:invamp" class="fignos">
         <figure>
         <img src="../resources/lab5fig/invamp.png" style="width:10cm"
         alt="Figure 1: Inverting amplifier" />
         <figcaption aria-hidden="true"><span>Figure 1:</span> Inverting
         amplifier</figcaption>
         </figure>
         </div>
         <p>The inverting amplifier is shown in Figure <a
         href="#fig:invamp">1</a>. Notice that this is very similar to
         the non-inverting amplifier, except for the fact that the input
         and ground are swapped.</p>
         <p>There is still a voltage divider network feeding the output
         back to the inverting input with a transfer function <span
         class="math inline">\(B\)</span>, such that</p>
         <p><span class="math display">\[B=\frac{R}{R_F+R}\]</span></p>
         <p>This simple swapping of the input and ground changes a few
         properties of the amplifier circuit</p>
         <ul>
         <li>the gain is now negative (the signal inverts i.e. flips
         upside down),</li>
         <li>the input impedance is greatly reduced.</li>
         </ul>
         <p>The reduced input impedance has potential issues; however,
         there is one advantage of the inverting amplifier. Because one
         of the inputs is held at a constant voltage (ground), the
         voltage at the inputs barely fluctuates which puts less strain
         on the op-amp resulting in better performance in reproducing
         the output waveform.</p>
         <h3 data-number="3.1.1" id="sec:1.1"><span
         class="header-section-number">3.1.1</span> Prelab Question</h3>
         <p>Applying the voltage golden rule, it should be clear that
         the voltage at both inputs is <span
         class="math inline">\(0\text{ V}\)</span>. Even though the
         voltage at <span class="math inline">\(V_-\)</span> is zero, it
         is called a <strong>virtual ground</strong>, instead of
         <strong>ground</strong>, because there is no actual path to
         <em>Earth ground</em>, so it does not serve the full function
         of ground.</p>
         <p>Since the path from <span
         class="math inline">\(V_\text{in}\)</span> to <span
         class="math inline">\(V_-\)</span> is like a path to ground,
         this path is like a load. With this knowledge, what do you
         think the input impedance of the inverting amplifier is?</p>
         <h2 data-number="3.2"
         id="deriving-the-closed-loop-gain-of-the-inverting-amplifier"><span
         class="header-section-number">3.2</span> Deriving the
         Closed-Loop Gain of the Inverting Amplifier</h2>
         <p>By only using the current golden rule, the <em>closed-loop
         gain</em> of the inverting amplifier can be derived even with a
         finite <em>open-loop gain</em> <span
         class="math inline">\(A\)</span>.</p>
         <p>The current golden rule, says that no current flows into
         <span class="math inline">\(V_-\)</span>, so all the current
         <span class="math inline">\(I\)</span> that flows through <span
         class="math inline">\(R\)</span> will also flow through <span
         class="math inline">\(R_F\)</span> (see <a
         href="#fig:invamp-finite">2</a>).</p>
         <p>Second, plugging <span class="math inline">\(V_+=0\)</span>
         into the op-amp equation</p>
         <p><span
         class="math display">\[V_\text{out}=A(V_+-V_-)\]</span></p>
         <p>yeilds</p>
         <p><span
         class="math display">\[V_-=\frac{-V_\text{out}}{A}\]</span></p>
         <!-- Note that $$\lim_{A\rightarrow\infty}V_-=0$$ which is what the voltage golden rule says should happen with negative feedback and infinite open-loop gain. **This is the virtual ground**.-->
         <div id="fig:invamp-finite" class="fignos">
         <figure>
         <img
         src="../resources/lab5fig/inverting-amp-with-finite-gain.png"
         style="width:15cm"
         alt="Figure 2: Using the op-amp equation, the voltage at the inverting input can be found: V_-=-V_\text{out}/A. Since so little current flows through the input, it is reasonable to assume the current through both resistors is the same." />
         <figcaption aria-hidden="true"><span>Figure 2:</span> Using the
         op-amp equation, the voltage at the inverting input can be
         found: <span
         class="math inline">\(V_-=-V_\text{out}/A\)</span>. Since so
         little current flows through the input, it is reasonable to
         assume the current through both resistors is the
         same.</figcaption>
         </figure>
         </div>
         <p>We can now right down two equations based on Kircchoff’s
         voltage law:</p>
         <p><span class="math display">\[V_\text{out} = V_- + IR_F =
         \frac{-V_\text{out}}{A} + IR_F\]</span></p>
         <p><span class="math display">\[V_\text{in} = V_- - IR =
         \frac{-V_\text{out}}{A} - IR\]</span></p>
         <p>These equations can be manipulated to give</p>
         <p><span
         class="math display">\[G_0=\frac{V_\text{out}}{V_\text{in}}=\frac{-AR_F}{R_F+(1+A)R}=-\frac{A(1-B)}{1+AB}\]</span></p>
         <h3 data-number="3.2.1" id="sec:2.1"><span
         class="header-section-number">3.2.1</span> Prelab Question</h3>
         <p>Find the closed-loop gain in the limit as <span
         class="math inline">\(A\)</span> approaches infinity (open-loop
         gain golden rule); i.e.</p>
         <p><span
         class="math display">\[\lim_{A\rightarrow\infty}G_0\]</span></p>
         <p><em>Hint:</em> L’Hôpital’s rule may be helpful.</p>
         <h3 data-number="3.2.2" id="sec:2.2"><span
         class="header-section-number">3.2.2</span> Prelab Question</h3>
         <p>Instead, start with the assumption that the voltage golden
         rule applies. What is the voltage at <span
         class="math inline">\(V_-\)</span> then? Derive expressions for
         <span class="math inline">\(V_\text{out}\)</span> and <span
         class="math inline">\(V_\text{in}\)</span> using this value for
         <span class="math inline">\(V_-\)</span> and Kircchoff’s
         voltage rule. Does this lead to the same result for <span
         class="math inline">\(G_0\)</span> you found in question <a
         href="#sec:2.1">3.2.1</a>? (You may need to do a little
         rearranging to show they are the same)</p>
         <h3 data-number="3.2.3" id="sec:2.3"><span
         class="header-section-number">3.2.3</span> Prelab Question</h3>
         <p>Find <span class="math inline">\(G_0\)</span> (assume <span
         class="math inline">\(A\rightarrow\infty\)</span>) for</p>
         <ol type="1">
         <li><p><span class="math inline">\(R=100\ \Omega\)</span> and
         <span class="math inline">\(R_F=1\text{
         k}\Omega\)</span></p></li>
         <li><p><span class="math inline">\(R=10\text{ k}\Omega\)</span>
         and <span class="math inline">\(R_F=100\text{
         k}\Omega\)</span></p></li>
         </ol>
         <h2 data-number="3.3"
         id="the-input-and-output-impedance-of-the-inverting-amplifier"><span
         class="header-section-number">3.3</span> The Input and Output
         Impedance of the Inverting Amplifier</h2>
         <p>Formulas for the input and output impedance for an inverting
         amplifier are derived in Horowitz and Hill 2<sup>nd</sup>
         ed. section 4.26 (copies can be found in the lab).</p>
         <p><span class="math display">\[R_{i}&#39; = R\bigg(1 +
         \frac{1}{(1 + A)}\frac{R_{F}}{R}\bigg)\]</span></p>
         <p><span class="math display">\[R_{o}&#39; = \frac{R_{o}}{(1 +
         AB)}\]</span></p>
         <p><em>Note:</em> that the output impedance is the same
         equation as it was for the non-inverting amplifier.</p>
         <p>For the input impedance, as long as the magnitude of the
         closed-loop gain is significantly less than the open-loop gain,
         <span class="math inline">\(R_i&#39;=R\)</span>. Typically in
         practice, <span class="math inline">\(R\lesssim 100\text{
         k}\Omega\)</span>. This is far less than typical op-amp’s bare
         input impedance (the LF356 has <span
         class="math inline">\(10^{12}\ \Omega\)</span>.. that’s a
         <strong>teraohm</strong>!).</p>
         <h3 data-number="3.3.1" id="sec:3.1"><span
         class="header-section-number">3.3.1</span> Prelab Question</h3>
         <p>Calculate <span class="math inline">\(R_i&#39;\)</span>
         (using <span class="math inline">\(A=2\cdot 10^{5}\)</span>)
         using</p>
         <ol type="1">
         <li><p><span class="math inline">\(R=100\ \Omega\)</span> and
         <span class="math inline">\(R_F=1\text{
         k}\Omega\)</span></p></li>
         <li><p><span class="math inline">\(R=10\text{ k}\Omega\)</span>
         and <span class="math inline">\(R_F=100\text{
         k}\Omega\)</span></p></li>
         </ol>
         <p>Is it reasonable to just say that <span
         class="math inline">\(R_i&#39;=R\)</span>?</p>
         <h3 data-number="3.3.2" id="sec:3.2"><span
         class="header-section-number">3.3.2</span> Prelab Question</h3>
         <div id="fig:invamp-meas-in" class="fignos">
         <figure>
         <img src="../resources/lab5fig/invamp-meas-in.png"
         style="width:12cm"
         alt="Figure 3: Both the output impedance of the function generator and the input impedance of the oscilloscope may impact the circuit in significant ways" />
         <figcaption aria-hidden="true"><span>Figure 3:</span> Both the
         output impedance of the function generator and the input
         impedance of the oscilloscope may impact the circuit in
         significant ways</figcaption>
         </figure>
         </div>
         <p>If <span class="math inline">\(V_\text{in}\)</span> is
         coming from the function generator, there is a <span
         class="math inline">\(50\ \Omega\)</span> output impedance, and
         when you measure <span
         class="math inline">\(V_\text{in}\)</span> on the scope there
         is a <span class="math inline">\(1\text{ M}\Omega\)</span>
         measurement impedance (see Figure <a
         href="#fig:invamp-meas-in">3</a>). In each of the following
         cases, decide whether the <span class="math inline">\(50\
         \Omega\)</span>, the <span class="math inline">\(1\text{
         M}\Omega\)</span>, both, or neither impedances will
         significantly impact either the measurement of <span
         class="math inline">\(V_\text{in}\)</span> or <span
         class="math inline">\(V_\text{out}\)</span>. In each case draw
         an updated diagram which simplifies the model
         appropriately.</p>
         <ol type="1">
         <li><p><span class="math inline">\(R=100\ \Omega\)</span> and
         <span class="math inline">\(R_F=1\text{
         k}\Omega\)</span></p></li>
         <li><p><span class="math inline">\(R=10\text{ k}\Omega\)</span>
         and <span class="math inline">\(R_F=100\text{
         k}\Omega\)</span></p></li>
         </ol>
         <p><em>Hint 1:</em> The same voltage is across <span
         class="math inline">\(R\)</span> and the <span
         class="math inline">\(1\text{ M}\Omega\)</span> of the
         oscilloscope, so these resistors are in parallel.</p>
         <p><em>Hint 2:</em> Consider the voltage division between the
         output impedance (of the function generator) and the input
         impedance (of the amplifier).</p>
         <h3 data-number="3.3.3" id="sec:3.3"><span
         class="header-section-number">3.3.3</span> Prelab Question</h3>
         <p>Between the two options for resistor values, do you think it
         is it more reasonable to choose the lower resistances, or the
         higher resistances for the same gain? Why?</p>
         <h3 data-number="3.3.4" id="sec:3.4"><span
         class="header-section-number">3.3.4</span> Prelab Question</h3>
         <p>In LTspice, make an inverting amplifier. You will need to
         power the op-amp (Use the “Net Label” tool to avoid
         clutter).</p>
         <ul>
         <li><p>Screen shot your circuit.</p></li>
         <li><p>Make <span class="math inline">\(V_\text{in}\)</span> a
         <span class="math inline">\(1\text{ V}\)</span> sine wave at
         <span class="math inline">\(1\text{ kHz}\)</span>.</p></li>
         <li><p>Run the simulation with <span
         class="math inline">\(R=100\ \Omega\)</span> and <span
         class="math inline">\(R_F=1\text{ k}\Omega\)</span> and measure
         <span class="math inline">\(V_\text{out}\)</span>.</p></li>
         <li><p>Change the resistors to <span
         class="math inline">\(R=10\text{ k}\Omega\)</span> and <span
         class="math inline">\(R_F=100\text{ k}\Omega\)</span> and
         re-run the simulation. Measure <span
         class="math inline">\(V_\text{out}\)</span>.</p></li>
         <li><p>Do your measurements depend on the input impedance?
         Why?</p></li>
         <li><p>Edit <span class="math inline">\(V_\text{in}\)</span> so
         that it has <span class="math inline">\(50\ \Omega\)</span> of
         output impedance (series resistance). You can do this by right
         clicking the source and finding the “series resistance
         option.”</p></li>
         <li><p>Repeat the simulation and measurements for</p>
         <ul>
         <li><p><span class="math inline">\(R=100\ \Omega\)</span> and
         <span class="math inline">\(R_F=1\text{
         k}\Omega\)</span></p></li>
         <li><p><span class="math inline">\(R=10\text{ k}\Omega\)</span>
         and <span class="math inline">\(R_F=100\text{
         k}\Omega\)</span></p></li>
         </ul></li>
         <li><p>Do you get the same result compared to when the voltage
         source was ideal? Explain what causes the discrepancy.</p></li>
         </ul>
         <h2 data-number="3.4"
         id="frequency-dependance-of-the-inverting-amplifier"><span
         class="header-section-number">3.4</span> Frequency Dependance
         of the Inverting Amplifier</h2>
         <p>The frequency dependence of the non-inverting amplifier and
         the inverting amplifier are the same</p>
         <p><span
         class="math display">\[A(f)=\frac{A_\text{VOL}}{1+j\frac{f}{f_0}}\]</span></p>
         <p><span
         class="math display">\[G=\frac{G_0}{1+j\frac{f}{f_B}}\]</span></p>
         <p>However, the relationship between the gain and the 3 dB
         frequency is different from the non-inverting amplifier (gain
         bandwidth product is a bit of a misnomer).</p>
         <p><span class="math display">\[f_T = \frac{-G_0 f_B}{1 - B} =
         A_\text{VOL}f_0\]</span></p>
         <p>Note though, that the gain of the non-inverting amplifier
         was <span class="math inline">\(1/B\)</span>. With some
         algebra, you can show that</p>
         <p><span class="math display">\[\frac{-G_0}{1 -
         B}=\frac{1}{B}\]</span></p>
         <p>so for both inverting and non-inverting amplifiers</p>
         <p><span class="math display">\[\text{GBW}=f_T = \frac{f_B}{B}=
         A_\text{VOL}f_0\]</span></p>
         <h3 data-number="3.4.1" id="sec:4.1"><span
         class="header-section-number">3.4.1</span> Prelab Question</h3>
         <p>What is <span class="math inline">\(f_B\)</span> when <span
         class="math inline">\(R=10\text{ k}\Omega\)</span> and <span
         class="math inline">\(R_F=100\text{ k}\Omega\)</span>?</p>
         <h2 data-number="3.5" id="summing-amplifier"><span
         class="header-section-number">3.5</span> Summing Amplifier</h2>
         <div id="fig:sumamp" class="fignos">
         <figure>
         <img src="../resources/lab5fig/sumamp.png" style="width:10cm"
         alt="Figure 4: Summing amplifier can sum 2 or more voltages" />
         <figcaption aria-hidden="true"><span>Figure 4:</span> Summing
         amplifier can sum 2 or more voltages</figcaption>
         </figure>
         </div>
         <p>The Summing Amplifier, shown in Figure <a
         href="#fig:sumamp">4</a>, is a very flexible circuit. Notice
         that it is just like the inverting amplifier op-amp
         configuration, but it has multiple inputs coming together at
         the inverting input. Since <span
         class="math inline">\(V_-\)</span> is a <em>virtual
         ground</em>, each input <span class="math inline">\(i\)</span>
         with input voltage <span class="math inline">\(V_i\)</span> has
         an input impedance of <span
         class="math inline">\(R_i\)</span>.</p>
         <p>Each input has a current through it which can be determined
         with Kircchoff’s voltage law</p>
         <p><span class="math display">\[V_i - I_iR_i=0\]</span></p>
         <p><span class="math display">\[I_i =
         \frac{V_i}{R_i}\]</span></p>
         <p>All of these current paths combine near the inverting input
         before going through <span class="math inline">\(R_F\)</span>;
         by Kircchoff’s current law, the current through <span
         class="math inline">\(R_F\)</span> is the sum of all of these
         input currents</p>
         <p><span class="math display">\[I_F = \sum_{i=1}^n
         I_i=\sum_{i=1}^n\frac{V_i}{R_i}\]</span></p>
         <p>Finally, the voltage rise from the <em>virtual ground</em>
         to <span class="math inline">\(V_\text{out}\)</span> can be
         calculated by Kircchoff’s voltage law</p>
         <p><span class="math display">\[V_\text{out} = 0-R_FI_F
         =  -R_F\sum_{i=1}^n \frac{V_i}{R_i}\]</span></p>
         <p><em>Note:</em> If you have the same input source, like the
         function generator, going into multiple inputs, it will have to
         supply current to all of these. Sources of current have current
         limits, and splitting the current into too many outputs can
         make it quickly reach its current limit.</p>
         <h3 data-number="3.5.1" id="sec:5.1"><span
         class="header-section-number">3.5.1</span> Prelab Question</h3>
         <p>In the lab, you will use a summing amplifier to build a
         digital-to-analog converter (DAC). This is one of the many
         incredibly useful applications of the summing amplifier. In
         order to design the circuit, you will need to have some
         understanding of binary numbers (in digital circuits, all
         numbers are in binary). In binary there are only two states: 0
         and 1 (aka <strong>false</strong> and <strong>true</strong> or
         <strong>off</strong> and <strong>on</strong>). In digital
         circuits, the 1 state is usually <span
         class="math inline">\(5\text{ V}\)</span> (but <span
         class="math inline">\(3.3\text{ V}\)</span> is also
         common).</p>
         <p>You may or may not have experience with binary-decimal
         conversions, but it’s pretty straight forward. A binary number
         like</p>
         <p><span class="math display">\[101101\]</span></p>
         <p>can be converted by knowing that each bit of a binary number
         represents <span class="math inline">\(2^i\)</span> where <span
         class="math inline">\(i\)</span> is represents a bit’s place,
         so the number above is</p>
         <p><span
         class="math display">\[1\cdot2^5+0\cdot2^4+1\cdot2^3+1\cdot2^2+0\cdot2^1+1\cdot2^0\]</span></p>
         <p>The conversion in general can be formalized</p>
         <p><span class="math display">\[\sum_{i=0}a_i2^i\]</span></p>
         <p>where each <span class="math inline">\(a_i\)</span> is
         either 0 or 1 (this counts from right to left).</p>
         <p>You will build a 3-bit DAC; this means that it will be able
         to convert 3 digit binary numbers (in binary, digits are
         referred to as bits).</p>
         <p><strong>Make a table</strong> with all 8 possible 3-bit
         binary numbers on the left and the corresponding decimal
         equivalents on the right. For example: 000 in binary is 0 in
         decimal. If you need more of a refresher on binary or counting
         in binary, <a
         href="https://en.wikipedia.org/wiki/Binary_number#Counting_in_binary">this
         Wikipedia entry</a> will hopefully be useful.</p>
         <h3 data-number="3.5.2" id="sec:5.2"><span
         class="header-section-number">3.5.2</span> Prelab Question</h3>
         <p>It makes the most sense to make <span
         class="math inline">\(0\text{ V}\)</span> represent binary 0.
         However, the choice of voltage to represent binary 1 is mostly
         arbitrary, but <span class="math inline">\(5\text{ V}\)</span>
         is the most commonly used.</p>
         <p>With <span class="math inline">\(R_F=27\text{
         k}\Omega\)</span>, choose resistor values for the 3 input
         resistors such that <span
         class="math inline">\(V_\text{out}\)</span> corresponds to the
         analog voltage (decimal equivalent) corresponding to the
         digital 3-bit number input.</p>
         <p>Calling the inputs <span class="math inline">\(i=0,\ 1,\
         2\)</span> corresponding to the 0<sup>th</sup>, 1<sup>st</sup>,
         and 2<sup>nd</sup> place of the binary number makes things
         easier to track since these correspond to the relevant
         exponents <span class="math inline">\(2^i\)</span> . You need
         to convert the 8 possible combinations of <span
         class="math inline">\(0\text{ V}\)</span> and <span
         class="math inline">\(5\text{ V}\)</span> input to <span
         class="math inline">\(0-7\text{ V}\)</span></p>
         <p><em>Hint:</em> Focusing on 001, 010, and 100 will make
         things easiest.</p>
         <h2 data-number="3.6" id="integrator"><span
         class="header-section-number">3.6</span> Integrator</h2>
         <div id="fig:integrator" class="fignos">
         <figure>
         <img src="../resources/lab5fig/integrator.png"
         style="width:10cm" alt="Figure 5: Integrator" />
         <figcaption aria-hidden="true"><span>Figure 5:</span>
         Integrator</figcaption>
         </figure>
         </div>
         <p>The integrator is shown in Figure <a
         href="#fig:integrator">5</a>. This is like the inverting
         amplifier but with the feedback resistor replaced with a
         feedback capacitor.</p>
         <p>Due to the complex impedance of the capacitor, the transfer
         function <span class="math inline">\(B\)</span> also becomes
         complex</p>
         <p><span class="math display">\[B = \frac{R}{R+\frac{1}{j\omega
         C}}=\frac{j\omega R C}{1+j\omega R C}\]</span></p>
         <p>The voltage and current golden rules can be applied to solve
         for <span class="math inline">\(V_\text{out}\)</span>. If we
         assume the positive current direction runs from <span
         class="math inline">\(V_\text{out}\)</span> to <span
         class="math inline">\(V_\text{in}\)</span>, the virtual ground
         means that</p>
         <p><span class="math display">\[V_\text{in}+IR=0\]</span></p>
         <p>Then we can consider the voltage across the capacitor and
         how that compares to the charge stored in it</p>
         <p><span class="math display">\[Q=CV_\text{out}\]</span></p>
         <p>By definition, current is the time derivative of charge, so
         taking the derivative of both sides gives</p>
         <p><span class="math display">\[I = C
         \frac{dV_\text{out}}{dt}\]</span></p>
         <p>Combining the two equations yields</p>
         <p><span
         class="math display">\[\frac{dV_\text{out}}{dt}=-\frac{V_\text{in}}{RC}\]</span></p>
         <p>To solve for <span
         class="math inline">\(V_\text{out}\)</span>, integrate both
         sides</p>
         <p><span class="math display">\[V_\text{out}(t) =
         \frac{-1}{RC}\int_0^t V_\text{in}(t&#39;)\;
         dt&#39;\]</span></p>
         <p>This relationship between <span
         class="math inline">\(V_\text{in}\)</span> and <span
         class="math inline">\(V_\text{out}\)</span> is why this circuit
         is called an integrator.</p>
         <!--### Prelab Question {#sec:6.1}

         The sine wave analysis is the easiest because the integral of a sine wave is a sine wave (remember that sine and cosine are the same thing with phase shifts). If $V_\text{in}$ has an amplitude $V_0$ and frequency $f$, then

         $$V_\text{out}(t) = \frac{-1}{RC}\int_0^{t} V_0 \sin{(2\pi f t')}\; dt'$$

         Evaluate the integral to determine

         1.  $V_\text{out}$ over the full period $T=1/f$. Does this result make sense for an oscillating output?

         2.  $V_\text{out}$ over the half the period.

         3.  Use your previous results to determine the amplitude of the output wave

         4.  Use the peak-to-peak amplitude of $V_\text{in}$ and $V_\text{out}$ to determine the gain of the circuit for a square wave input. Express this in terms of $f$ instead of $T$.

         ### Prelab Question {#sec:6.2}

         We just found that the gain not only depends on the RC time constant, but also the frequency of the input. What RC time constant would give a gain of 1 at $1\text{ kHz}$ for the square wave? -->
         <h3 data-number="3.6.1" id="sec:6.1"><span
         class="header-section-number">3.6.1</span> Prelab Question</h3>
         <p>Sketch (or plot in Python) the predicted waveform for the
         output when the input is a</p>
         <ol type="1">
         <li>Sine wave</li>
         <li>Square wave</li>
         <li>Triangle Wave</li>
         </ol>
         <p>These are Voltage vs time plots/sketches (like what you
         would see on the oscilloscope). For the square and triangle
         waves, it will help to break them up into piecewise continuous
         functions with continuous derivatives.</p>
         <ul>
         <li><p><em>Hint:</em> the square wave takes on a constant value
         in the regions where the function is continuous.</p></li>
         <li><p><em>Calculus refresher:</em> the derivative is
         discontinuous where the function <em>isn’t
         smooth</em>.</p></li>
         </ul>
         <h2 data-number="3.7"
         id="complex-analysis-of-the-integrators-gain"><span
         class="header-section-number">3.7</span> Complex Analysis of
         the Integrator’s Gain</h2>
         <p>Here, by complex, we mean “involving imaginary numbers.”
         Remember that the impedance of a capacitor is</p>
         <p><span class="math display">\[Z_C = \frac{1}{j\omega
         C}\]</span></p>
         <p>so we can treat the capacitor in the circuit as an element
         with this impedance. In this case, using the same analysis that
         was done on the inverting amplifier, the equations found with
         Kircchoff’s voltage law become</p>
         <p><span class="math display">\[V_\text{in}+IR=0\]</span></p>
         <p><span class="math display">\[V_\text{out}-\frac{I}{j\omega
         C}=0\]</span></p>
         <p>Remembering that <span
         class="math inline">\(j=\exp(j\pi/2)\)</span>, the gain can be
         written</p>
         <p><span class="math display">\[G_0 =
         \frac{-e^{\frac{-j\pi}{2}}}{2\pi f RC}\]</span></p>
         <p>Note that this treatment for the gain works on individual
         sine wave components. To apply this gain to different
         waveforms, you would need to break them up into Fourier series
         and apply this gain to the individual sine wave terms of the
         series (this is not something we expect you to do).</p>
         <p>For a sine wave (or sine wave component of a Fourier series)
         the magnitude of the gain is</p>
         <p><span class="math display">\[|G_0| = \frac{1}{2 \pi f
         RC}\]</span></p>
         <p>The complex exponential in the gain has a phase of <span
         class="math inline">\(\phi=-\frac{\pi}{2}\)</span>; this means
         that the gain will phase shift the output by this much. Note
         that <span class="math inline">\(\sin(\omega t -
         \frac{\pi}{2})=-\cos(\omega t)\)</span>, so this phase shift is
         equivalent to integrating.</p>
         <p>Notice that the gain falls off as a function of frequency.
         This makes it act like a low-pass filter. Integrators are often
         used as low-pass filters, but there are better ways to make a
         proper low-pass filter with op-amps. If you’re interested in
         reading more about the technical difference of a proper op-amp
         low-pass filter and an integrator, here’s a <a
         href="https://ieeexplore.ieee.org/document/4313498">technical
         paper</a> (that you can access as long as you’re on the
         university network) and a <a
         href="https://stackoverflow.com/questions/37067763/what-is-the-difference-between-an-integrator-and-a-low-pass-filter">forum
         discussion</a> on the topic.</p>
         <h3 data-number="3.7.1" id="sec:7.1"><span
         class="header-section-number">3.7.1</span> Prelab Question</h3>
         <p>Calculate an RC time constant that results in a gain of</p>
         <p><span class="math display">\[|G_0| = \frac{10}{2\pi}\approx
         1.6\]</span></p>
         <p>for a <span class="math inline">\(1\text{ kHz}\)</span> sine
         wave.</p>
         <h2 data-number="3.8"
         id="considerations-for-r-and-c-selections-for-the-integrator"><span
         class="header-section-number">3.8</span> Considerations for
         <span class="math inline">\(R\)</span> and <span
         class="math inline">\(C\)</span> selections for the
         integrator</h2>
         <p>Choosing values for the resistor and capacitor depends on
         several considerations. First, one needs to determine the
         desired RC time constant. This will depend on the expected
         signal (size, shape, and frequency), and the desired output
         (remembering the op-amp limitations on maximum output voltage
         and slew rate). Once <span class="math inline">\(RC\)</span> is
         determined, some considerations for choosing <span
         class="math inline">\(R\)</span> and <span
         class="math inline">\(C\)</span> are:</p>
         <ul>
         <li><p>For this application, non-polarized capacitors should be
         selected because the applied voltage will oscillate around
         <span class="math inline">\(0\)</span>.</p></li>
         <li><p>Availability: resistors from <span
         class="math inline">\(1\ \Omega\)</span> to <span
         class="math inline">\(10\text{ M}\Omega\)</span> and
         non-polarized capacitors from <span
         class="math inline">\(2\text{ pF}\)</span> to <span
         class="math inline">\(1\ \text{μF}\)</span> are readily
         available in the lab.</p></li>
         <li><p>Input impedance: generally a high input impedance is
         desired to avoid voltage dividing the input signal with the
         <span class="math inline">\(50\ \Omega\)</span> output
         impedance of the function generator. <span
         class="math inline">\(1\text{ k}\Omega\)</span> input impedance
         will have a transfer function of <span
         class="math inline">\(0.952\)</span> voltage dividing with
         <span class="math inline">\(50\ \Omega\)</span>, and it is
         recommended to have at least this much input impedance (but
         more is better).</p></li>
         <li><p>Avoiding stray capacitance effects: there are many
         sources of capacitance, such as cables, which can
         unintentionally couple to or decouple your signal. For this
         reason, it is advisable to avoid very small capacitors as the
         stray capacitances may end up dominating. A few hundred
         picofarads should be sufficient.</p></li>
         </ul>
         <p><strong>Dealing with DC offsets:</strong> A DC offset,
         however small, integrates to a linear growth over time (the
         capacitor builds up charge) which will cause the output to hit
         one of the op-amp’s maximum output voltages. Op-amps usually
         have small DC offsets even if the input signal has no offset.
         One way to mitigate this is to add a resistor in parallel with
         the capacitor so that charge can leak out of the capacitor
         overtime.</p>
         <p>A real capacitor can be accurately modeled as an ideal
         capacitor with resistance in series and in parallel with it
         (see Figure <a href="#fig:cap-measure">6</a>). Good capacitors
         have very small series resistance and very large parallel
         resistance. The parallel resistance often has to do with the
         dielectric material inside “leaking” charge through it. When
         the LCR meter is used to measure a capcitance, it is unable to
         apply the series+parallel resistance model with a single
         measurement; it can be set to either measure with a parallel
         resistance model <em>or</em> a series resistance model (see
         Figure <a href="#fig:LCR">7</a>). For this application in
         particular, it is a good idea to measure the capacitor with a
         parallel resistance model so that you know how much resistance
         should be added in parallel to reach a specific parallel
         resistance to get the right amount of “leakage.”</p>
         <div id="fig:cap-measure" class="fignos">
         <figure>
         <img src="../resources/lab5fig/cap-measure.png"
         style="width:15cm"
         alt="Figure 6: A real capacitor is accurately modeled with resistance in series and in parallel with the capacitance. When you measure a capacitor with the LCR meter, you can select whether it measures with a series resistance or parallel resistance equivalent circuit model." />
         <figcaption aria-hidden="true"><span>Figure 6:</span> A real
         capacitor is accurately modeled with resistance in series and
         in parallel with the capacitance. When you measure a capacitor
         with the LCR meter, you can select whether it measures with a
         series resistance or parallel resistance equivalent circuit
         model.</figcaption>
         </figure>
         </div>
         <div id="fig:LCR" class="fignos">
         <figure>
         <img src="../resources/lab5fig/cap-parallel-resistance.png"
         style="width:15cm"
         alt="Figure 7: When you measure your capacitor, make sure the PARAMETER is set to C+R and the Equiv Circuit is set to PARALLEL" />
         <figcaption aria-hidden="true"><span>Figure 7:</span> When you
         measure your capacitor, make sure the PARAMETER is set to <span
         class="math inline">\(C+R\)</span> and the Equiv Circuit is set
         to PARALLEL</figcaption>
         </figure>
         </div>
         <h3 data-number="3.8.1" id="sec:8.1"><span
         class="header-section-number">3.8.1</span> Prelab Question</h3>
         <p>Design an integrator that would have</p>
         <ul>
         <li>an input impedance of <span class="math inline">\(10\text{
         k}\Omega\)</span></li>
         <li>an <span class="math inline">\(RC\)</span> value that you
         calculated in Prelab Question <a href="#sec:7.1">3.7.1</a></li>
         </ul>
         <h2 data-number="3.9" id="lab-activities"><span
         class="header-section-number">3.9</span> Lab activities</h2>
         <h3 data-number="3.9.1" id="sec:9.1"><span
         class="header-section-number">3.9.1</span> Prelab Question</h3>
         <p>Please review the lab activities so that you’re better
         prepared when you arrive to your lab section.</p>
         <h1 data-number="4" id="useful-readings"><span
         class="header-section-number">4</span> Useful Readings</h1>
         <p>You can find more on these circuits from these recommended
         sources:</p>
         <ol type="1">
         <li><p><a
         href="https://atomoptics-nas.uoregon.edu/~dsteck/teaching/electronics/electronics-notes.pdf">Steck</a>
         Sections 7.1, 7.2, 7.3.1, 7.3.2, 7.3.4, 2.2.1, 7.4.2</p></li>
         <li><p>Fischer-Cripps Sections 12.2–12.15</p></li>
         <li><p>Horowitz and Hill 2<sup>nd</sup> Ed., Sections
         4.04–4.08, 4.19, 4.20 and Sections 1.13–1.15</p></li>
         </ol>
         <h1 data-number="5" id="ic-tips"><span
         class="header-section-number">5</span> IC Tips</h1>
         <p>In this lab, we will use ICs (integrated circuits) for the
         second time. Here’s a review of the tips from last lab.
         <strong>Read through them all</strong> again before you begin
         using any IC chips. You should refer back to this section in
         future labs to remind yourself of these useful tips.</p>
         <div id="fig:power-example" class="fignos">
         <figure>
         <img src="../resources/lab4fig/power-example.jpg"
         style="width:15cm"
         alt="Figure 8: The LF356 op-amp DIP chip powered with plus (red) and minus (blue) voltages with decoupling capacitors. Also notice the wire jumping ground to both sides of the chip." />
         <figcaption aria-hidden="true"><span>Figure 8:</span> The LF356
         op-amp DIP chip powered with plus (red) and minus (blue)
         voltages with decoupling capacitors. Also notice the wire
         jumping ground to both sides of the chip.</figcaption>
         </figure>
         </div>
         <ol type="1">
         <li><p>Always unplug the power supply from your circuit while
         you’re wiring it.</p></li>
         <li><p>Chips sit across the groove on the breadboard (see
         Figure <a href="#fig:power-example">8</a>). Any other placement
         will cause legs to short together.</p>
         <ul>
         <li><p>Before inserting a chip, ensure the pins are straight
         (using a needle-nose pliers or something similar).</p></li>
         <li><p>After insertion, check visually that no pin is broken or
         bent under the chip.</p></li>
         <li><p>To remove the chip, use the dedicated IC pliers (found
         in the tool trays at your lab station). Removing ICs by hand
         often results in bent legs and/or a leg puncturing your
         finger.</p></li>
         </ul></li>
         <li><p>Use the long columns on your breadboard for your power
         and ground voltages (with power and ground next to each other)
         to take advantage of the parasitic decoupling capacitance of
         the long line.</p></li>
         <li><p>Color code your wires. We recommend:</p>
         <ul>
         <li><p><span style="color: black;">0V (ground)
         Black</span></p></li>
         <li><p><span style="color: red;">+15V Red</span></p></li>
         <li><p><span style="color: blue;">-15V Blue</span></p></li>
         <li><p>Use other colors for any other connections which aren’t
         to <span class="math inline">\(\pm\)</span> power or
         ground</p></li>
         </ul></li>
         <li><p>Connect capacitors between the power pin(s) of the IC
         (as close to the pin as possible as in Figure <a
         href="#fig:power-example">8</a>) to ground. These are called
         decoupling or bypass capacitors and are critical for
         maintaining constant voltage at the pin as the current needs
         change. Use nice, big polarized (electrolytic) capacitors
         (<span class="math inline">\(&gt;1\ \mu\text{F}\)</span>) so
         that they’re able to collect enough charge to deliver the
         necessary current when needed.</p></li>
         <li><p>Measure all your passive elements (resistors,
         capacitors, inductors, diodes) before putting them in the
         circuits; trying to measure while they are plugged into the
         breadboard can lead to mistakes.</p></li>
         <li><p>Always have a diagram of your circuit with pin numbers
         labeled (like the left side of Figure <a
         href="#fig:pin-diagram">9</a>).</p></li>
         <li><p>Make sure any polarized (electrolytic) capacitors are
         oriented such that the higher voltage is applied to the correct
         lead of the capacitor. Remember: <strong>ground</strong> is a
         <strong><em>HIGHER</em></strong> voltage than <span
         class="math inline">\(-15\ \text{V}\)</span>. Getting this
         backward will cause the capacitor to explode: this is loud,
         smelly, and a bit embarrassing.</p></li>
         <li><p>Wires that your signal go through should be kept short
         and compact. This minimizes the parasitic inductance and
         capacitance and will better preserve the signal. Don’t put your
         signals into the long columns running down the
         breadboard.</p></li>
         <li><p>Don’t make any connections that cross over the top of
         the IC (like the feedback connection for an op-amp); instead,
         go around the IC.</p>
         <ol type="1">
         <li><p>This makes it so you can pull out the IC without
         disturbing the rest of the circuit.</p></li>
         <li><p>This helps ensure magnetic fields generated by the
         current in the wire don’t interact with the inner workings of
         the IC.</p></li>
         </ol></li>
         <li><p>Compare your physical circuit to the diagram before
         connecting the power supply (especially polarized capacitor
         orientations).</p></li>
         </ol>
         <h1 data-number="6" id="lab-activities-1"><span
         class="header-section-number">6</span> Lab activities</h1>
         <h2 data-number="6.1" id="inverting-amplifier-1"><span
         class="header-section-number">6.1</span> Inverting
         amplifier</h2>
         <ol type="1">
         <li><p>Use your test circuit from Lab 4 to confirm that your
         op-amp is working (if you missed this detail last week, rebuild
         your test circuit in a bottom corner of your breadboard, out of
         the way, and leave it there - it will save you time later by
         being able to quickly confirm if your op-amp is working or
         not).</p></li>
         <li><p>Find and measure resistors with the following values:
         <span class="math inline">\(100\ \Omega\)</span>, <span
         class="math inline">\(1\text{ k}\Omega\)</span>, <span
         class="math inline">\(10\text{ k}\Omega\)</span>, and <span
         class="math inline">\(100\text{ k}\Omega\)</span>.</p></li>
         <li><p>Draw a circuit diagram that appropriately models the
         behavior of the inverting amplifier with <span
         class="math inline">\(R=100\ \Omega\)</span>, <span
         class="math inline">\(R_F=1\text{ k}\Omega\)</span>,
         considering the output impedance of the function generator
         and/or the input impedance of the oscilloscope (check in with
         an instructor if you’re unsure your models are
         reasonable).</p></li>
         <li><p>Build an inverting amplifier with <span
         class="math inline">\(R=100\ \Omega\)</span> and <span
         class="math inline">\(R_F=1\text{ k}\Omega\)</span>. (Don’t
         forget to follow all the IC tips above.) Below is the LF356 pin
         diagram for easy reference.</p></li>
         </ol>
         <div id="fig:pin-diagram" class="fignos">
         <figure>
         <img src="../resources/lab4fig/lf356-pins.png"
         style="width:10cm"
         alt="Figure 9: Pin diagram for LF356 (left). The numbers correspond to the corresponding pin on the DIP chip (right)" />
         <figcaption aria-hidden="true"><span>Figure 9:</span> Pin
         diagram for LF356 (left). The numbers correspond to the
         corresponding pin on the DIP chip (right)</figcaption>
         </figure>
         </div>
         <ol start="5" type="1">
         <li><p>Use the function generator and the oscilloscope to
         measure <span class="math inline">\(G_0\)</span> of the
         amplifier. (Remember, you should be using an oscilloscope probe
         for these measurements from now on.)</p></li>
         <li><p>Compare these to your expectated values from your
         model.</p></li>
         <li><p>Swap out the resistors so that <span
         class="math inline">\(R=10\text{ k}\Omega\)</span> and <span
         class="math inline">\(R_F=100\text{ k}\Omega\)</span>. Measure
         the resistors before putting them in the circuit (Don’t forget
         to follow all the IC tips above). Below is the LF356 pin
         diagram for easy reference.</p></li>
         <li><p>Measure <span class="math inline">\(G_0\)</span> of the
         amplifier.</p></li>
         <li><p>Measure <span class="math inline">\(f_B\)</span> of the
         amplifier.</p></li>
         <li><p>Compare these to your expectated values from your
         model.</p></li>
         <li><p>Was there any signficant difference between the
         amplifiers you built.</p></li>
         <li><p>Use the gain-bandwidth relation and your measurements of
         <span class="math inline">\(G_0\)</span> and <span
         class="math inline">\(f_B\)</span> to determine <span
         class="math inline">\(f_T\)</span> for your . Does your
         measured value of <span class="math inline">\(f_T\)</span>
         agree with what you found last week?</p></li>
         </ol>
         <h2 data-number="6.2"
         id="summing-amplifier-application---digital-to-analog-conversion"><span
         class="header-section-number">6.2</span> Summing Amplifier
         Application - Digital-to-Analog Conversion</h2>
         <ol type="1">
         <li><p>Find resistor values close to what you calculated in
         your prelab for the 3-bit digital-to-analog converter (you may
         want to check with an instructor to be sure they make sense).
         Precision isn’t super important here, so don’t worry about
         combining a bunch of resistors to get exactly the right values.
         Measure all the resistors.</p></li>
         <li><p>Draw a circuit diagram for the summing amplifier with
         these resistor values and make a table with predicted output
         voltages for all 8 3-bit inputs.</p></li>
         <li><p>Either make a new circuit or modify your inverting
         amplifier circuit to make the summing amplifier you
         designed.</p></li>
         <li><p>Measure the output of your circuit for all 8 3-bit
         combintations.</p>
         <ul>
         <li>You can use the same two voltage sources <span
         class="math inline">\((0\text{ V}\)</span> and <span
         class="math inline">\(5\text{ V})\)</span> to connect to your 3
         inputs</li>
         </ul></li>
         <li><p>Compare these to your predictions.</p></li>
         </ol>
         <h2 data-number="6.3" id="integrator-application"><span
         class="header-section-number">6.3</span> Integrator
         Application</h2>
         <p>By now, you should be somewhat comfortable with experimental
         design and reporting of outcomes, especially with op-amps and
         voltage dividers. In this last section, you will design and
         characterize an integrator. Your starting point should be the
         integrator circuit you designed in the prelab. Here are some
         things to consider and items you may wish to include in your
         lab notebook:</p>
         <ul>
         <li><p>The integration is over <em>time</em>.</p></li>
         <li><p>Describe the circuit you are building and testing
         (design your integrator for the conditions detailed in the
         prelab).</p></li>
         <li><p>Draw the schematic of the circuit with component values
         labeled (don’t forget to measure the parallel resistance of
         your capacitor).</p></li>
         <li><p>Design for a parallel resistance of ~<span
         class="math inline">\(800\text{ k}\Omega\)</span> for the
         capacitor. Factor in the capacitor’s measured parallel
         resistance for targeting this value.</p></li>
         <li><p>List your predictions / models. It is fine to start by
         using ideal models.</p></li>
         <li><p>How do you plan to test it? Be sure to use square,
         triangle, and sine waves at various frequencies.</p></li>
         <li><p>Use sine waves to test the gain at <span
         class="math inline">\(1\text{ kHz}\)</span>, <span
         class="math inline">\(10\text{ kHz}\)</span>, <span
         class="math inline">\(100\text{ kHz}\)</span></p></li>
         <li><p>Do the results match your model? What didn’t
         match?</p></li>
         <li><p>How would you refine your model or physical system to
         get better agreement? <em>Hint:</em> We didn’t consider the
         parallel resistance in the model. How could you modify analysis
         above to consider this resistance in your model? Can you
         correct any major discrepancies between your measured results
         and the original model?</p></li>
         </ul>
         <h2 data-number="6.4" id="the-differentiator-amplifier"><span
         class="header-section-number">6.4</span> The Differentiator
         Amplifier</h2>
         <p>We did not cover this in the prelab, but as you may be able
         to guess, by swapping the input resistor and the feedback
         capacitor (to an input capacitor and a feedback resistor),
         instead of integrating the signal, you will differentiate the
         signal</p>
         <p><span class="math display">\[V_\text{out} = - RC
         \frac{dV_\text{in}}{dt}\]</span></p>
         <p>Differentiator amplifiers, like integrators are used to
         shape waveforms and in control systems. They can also be used
         in analog computing applications to solve differential
         equations (final project idea?).</p>
         <p>In this case, the input impedance is related to the
         impedance of the capacitor (it’s the magnitude of the complex
         impedance)</p>
         <p><span class="math display">\[R&#39;_i \approx \frac{1}{2\pi
         f C}\]</span></p>
         <p>This means to get at least <span
         class="math inline">\(10\text{ k}\Omega\)</span> of input
         impedance at <span class="math inline">\(1\text{ kHz}\)</span>,
         the capacitance should be no more than <span
         class="math inline">\(16\text{ nF}\)</span>.</p>
         <ol type="1">
         <li><p>Is your choice of capacitor sufficiently small for <span
         class="math inline">\(1\text{ kHz}\)</span>? (i.e. will there
         be enough input impedance).</p></li>
         <li><p>Swap your resistor and capacitor and test a triangle
         wave input at <span class="math inline">\(1\text{ kHz}\)</span>
         to confirm that this circuit takes the time derivative of the
         input.</p></li>
         </ol>
               </div>
            <!-- Mathjax -->
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script>

      </script>
   </body>
</html>
